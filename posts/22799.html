<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Java教程系列之Java核心类 | 小牛博客</title><meta name="keywords" content="String,JavaBean,包装类型"><meta name="author" content="ITNXD"><meta name="copyright" content="ITNXD"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="¶首先来首歌曲来放松一下吧！       ¶一、字符串和编码 ¶1、字符串（String）  在Java中，String是一个引用类型，它本身也是一个class。但是，Java编译器对String有特殊处理，即可以直接用&quot;...&quot;来表示一个字符串！ 实际上字符串在String内部是通过一个char[]数组表示的，因此，按下面的写法也是可以的！ 因为String太常用了，所以Java提供了&quot;...&quot;">
<meta property="og:type" content="article">
<meta property="og:title" content="Java教程系列之Java核心类">
<meta property="og:url" content="https://www.itnxd.cn/posts/22799.html">
<meta property="og:site_name" content="小牛博客">
<meta property="og:description" content="¶首先来首歌曲来放松一下吧！       ¶一、字符串和编码 ¶1、字符串（String）  在Java中，String是一个引用类型，它本身也是一个class。但是，Java编译器对String有特殊处理，即可以直接用&quot;...&quot;来表示一个字符串！ 实际上字符串在String内部是通过一个char[]数组表示的，因此，按下面的写法也是可以的！ 因为String太常用了，所以Java提供了&quot;...&quot;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitcode.net/qq_43590403/pic/-/raw/master/2021/02/06/dbce4ec19a17c8cd73e7695dbbbbd2d0.png">
<meta property="article:published_time" content="2020-03-27T09:56:43.000Z">
<meta property="article:modified_time" content="2022-10-22T10:24:37.304Z">
<meta property="article:author" content="ITNXD">
<meta property="article:tag" content="String">
<meta property="article:tag" content="JavaBean">
<meta property="article:tag" content="包装类型">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitcode.net/qq_43590403/pic/-/raw/master/2021/02/06/dbce4ec19a17c8cd73e7695dbbbbd2d0.png"><link rel="shortcut icon" href="https://gitcode.net/qq_43590403/images/-/raw/master/img/favicon.ico"><link rel="canonical" href="https://www.itnxd.cn/posts/22799"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="H9LW1qdxrkJ55YbkfWulMvpaexxx3Rk0Yo6dVANeNHc"/><meta name="baidu-site-verification" content="code-YglH3DObCb"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8d3bd59bf6303bd5f44677445d369df5";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":300,"languages":{"author":"作者: ITNXD","link":"链接: ","source":"来源: 小牛博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java教程系列之Java核心类',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-10-22 18:24:37'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><link rel="stylesheet" href="/css/my.css"><style type="text/css">#toggle-sidebar {bottom: 80px}</style><link rel="stylesheet" href="//at.alicdn.com/t/font_1828588_zrw9f0qqie.css"><link rel="stylesheet" href="/self/atom-one-light.css"><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="小牛博客" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://gitcode.net/qq_43590403/pic/-/raw/master/2021/02/06/e373babbf340391956b673128a84185d.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">261</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">214</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">31</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://gitcode.net/qq_43590403/pic/-/raw/master/2021/02/06/dbce4ec19a17c8cd73e7695dbbbbd2d0.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小牛博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Java教程系列之Java核心类</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-03-27T09:56:43.000Z" title="发表于 2020-03-27 17:56:43">2020-03-27</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-22T10:24:37.304Z" title="更新于 2022-10-22 18:24:37">2022-10-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java%E6%95%99%E7%A8%8B/">Java教程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>35分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Java教程系列之Java核心类"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="首先来首歌曲来放松一下吧！"><a class="header-anchor" href="#首先来首歌曲来放松一下吧！">¶</a>首先来首歌曲来放松一下吧！</h2>

    <div id="aplayer-jBDOvGnp" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="30953009" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#FF4081"></div>
<h2 id="一、字符串和编码"><a class="header-anchor" href="#一、字符串和编码">¶</a>一、字符串和编码</h2>
<h3 id="1、字符串（String）"><a class="header-anchor" href="#1、字符串（String）">¶</a>1、字符串（String）</h3>
<blockquote>
<p>在Java中，<code>String</code>是一个引用类型，它本身也是一个<code>class</code>。但是，Java编译器对<code>String</code>有特殊处理，即可以直接用<code>"..."</code>来表示一个字符串！</p>
<p>实际上字符串在<code>String</code>内部是通过一个<code>char[]</code>数组表示的，因此，按下面的写法也是可以的！</p>
<p>因为<code>String</code>太常用了，所以Java提供了<code>"..."</code>这种字符串字面量表示方法。</p>
<p>Java字符串的一个重要特点就是字符串<em>不可变</em>。这种不可变性是通过内部的<code>private final char[]</code>字段，以及没有任何修改<code>char[]</code>的方法实现的。</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">String s1 = <span class="hljs-string">"hello!"</span>;<br>String s2 = <span class="hljs-keyword">new</span> String(<span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[] {<span class="hljs-string">'H'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'o'</span>, <span class="hljs-string">'!'</span>});<br></code></pre></td></tr></tbody></table></figure>
<blockquote>
<p>下面这个输出结果不一样，因为不可变性，所以其实就是指向变了！原来的字符串仍然在内存中！</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        String s = <span class="hljs-string">"Hello"</span>;<br>        System.out.println(s); <span class="hljs-comment">//Hello</span><br>        s = s.toUpperCase(); <span class="hljs-comment">//HELLO</span><br>        System.out.println(s);<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<h4 id="1-1-字符串比较（equal）"><a class="header-anchor" href="#1-1-字符串比较（equal）">¶</a>1.1 字符串比较（equal）</h4>
<blockquote>
<p>必须使用<code>equals()</code>方法而不能用<code>==</code>！</p>
<p><code>equal()</code>方法比较的是实实在在指向的内容！</p>
<p><code>==</code>则比较的指向的对象或实例是否相同！</p>
<p>一般情况下我们只需要比较内容，所以一定要射用equal方法！</p>
</blockquote>
<p>从表面上看，两个字符串用<code>==</code>和<code>equals()</code>比较都为<code>true</code>，但实际上那只是Java编译器在编译期，会自动把所有相同的字符串当作一个对象放入常量池，自然<code>s1</code>和<code>s2</code>的引用就是相同的。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        String s1 = <span class="hljs-string">"hello"</span>;<br>        String s2 = <span class="hljs-string">"hello"</span>;<br>        System.out.println(s1 == s2);<span class="hljs-comment">//true</span><br>        System.out.println(s1.equals(s2));<span class="hljs-comment">//true</span><br>        <br>        <span class="hljs-comment">// 上面纯属巧合！</span><br>        String s3 = <span class="hljs-string">"hello"</span>;<br>        String s4 = <span class="hljs-string">"HELLO"</span>.toLowerCase();<br>        System.out.println(s3 == s4);<span class="hljs-comment">//false</span><br>        System.out.println(s3.equals(s4));<span class="hljs-comment">//true</span><br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<ul>
<li>要忽略大小写比较，使用<code>equalsIgnoreCase()</code>方法。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.test;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">codeTest</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        String s = <span class="hljs-string">"hello"</span>;<br>        String t = s.toUpperCase();<br>        System.out.println(s.equals(t));<span class="hljs-comment">//false</span><br>        System.out.println(s.equalsIgnoreCase(t));<span class="hljs-comment">//true</span><br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<h4 id="1-2-字符串搜索"><a class="header-anchor" href="#1-2-字符串搜索">¶</a>1.2 字符串搜索</h4>
<ul>
<li><code>contains()</code>：参数是<code>CharSequence</code>而不是<code>String</code>，因为<code>CharSequence</code>是<code>String</code>的父类。查找子串，返回bool型！</li>
<li><code>indexof()</code>：返回查找第一次出现子串的下标位置！</li>
<li><code>lastIndexOf()</code>：返回最后一次出现子串的下标位置！</li>
<li><code>startsWith()</code>：返回是否以子串开头的bool型值！</li>
<li><code>endwith()</code>：返回是否以子串结尾的bool型值！</li>
<li><code>substring()</code>：截取子串！
<ul>
<li><code>substring(a)</code>：返回下标a开始到最后！</li>
<li><code>substring(a, b)</code>：返回下标a开始到b为止，左闭右开！</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 是否包含子串:</span><br><span class="hljs-string">"Hello"</span>.contains(<span class="hljs-string">"ll"</span>); <span class="hljs-comment">// true</span><br><br><span class="hljs-string">"Hello"</span>.indexOf(<span class="hljs-string">"l"</span>); <span class="hljs-comment">// 2</span><br><span class="hljs-string">"Hello"</span>.lastIndexOf(<span class="hljs-string">"l"</span>); <span class="hljs-comment">// 3</span><br><br><span class="hljs-string">"Hello"</span>.startsWith(<span class="hljs-string">"He"</span>); <span class="hljs-comment">// true</span><br><span class="hljs-string">"Hello"</span>.endsWith(<span class="hljs-string">"lo"</span>); <span class="hljs-comment">// true</span><br><br><span class="hljs-string">"Hello"</span>.substring(<span class="hljs-number">2</span>); <span class="hljs-comment">// "llo"</span><br><span class="hljs-string">"Hello"</span>.substring(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>); <span class="hljs-string">"ll"</span><br></code></pre></td></tr></tbody></table></figure>
<h4 id="1-3-取出首尾空白字符"><a class="header-anchor" href="#1-3-取出首尾空白字符">¶</a>1.3 取出首尾空白字符</h4>
<ul>
<li><code>trim()</code>：移除字符串首尾空白字符。空白字符包括空格，<code>\t</code>，<code>\r</code>，<code>\n</code>!并没有改变字符串的内容，而是返回了一个新字符串。</li>
<li><code>strip()</code>：移除字符串首尾空白字符。它和<code>trim()</code>不同的是，类似中文的空格字符<code>\u3000</code>也会被移除！</li>
<li><code>stripLeading()</code>：移除首部！</li>
<li><code>stripTrailing()</code>：移除尾部！</li>
<li><code>isEmpty()</code>：潘福安字符串是否为空！</li>
<li><code>isBlank()</code>：判断字符串是否为空白字符（空格）！</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-string">"  \tHello\r\n "</span>.trim(); <span class="hljs-comment">// "Hello"</span><br><br><span class="hljs-string">"\u3000Hello\u3000"</span>.strip(); <span class="hljs-comment">// "Hello"</span><br><span class="hljs-string">" Hello "</span>.stripLeading(); <span class="hljs-comment">// "Hello "</span><br><span class="hljs-string">" Hello "</span>.stripTrailing(); <span class="hljs-comment">// " Hello"</span><br><br><span class="hljs-string">""</span>.isEmpty(); <span class="hljs-comment">// true，因为字符串长度为0</span><br><span class="hljs-string">"  "</span>.isEmpty(); <span class="hljs-comment">// false，因为字符串长度不为0</span><br><span class="hljs-string">"  \n"</span>.isBlank(); <span class="hljs-comment">// true，因为只包含空白字符</span><br><span class="hljs-string">" Hello "</span>.isBlank(); <span class="hljs-comment">// false，因为包含非空白字符</span><br></code></pre></td></tr></tbody></table></figure>
<h4 id="1-4-子串替换（replace）"><a class="header-anchor" href="#1-4-子串替换（replace）">¶</a>1.4 子串替换（replace）</h4>
<ul>
<li>使用<code>replace()</code>方法：</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">String s = <span class="hljs-string">"hello"</span>;<br>s.replace(<span class="hljs-string">'l'</span>, <span class="hljs-string">'w'</span>); <span class="hljs-comment">// "hewwo"，所有字符'l'被替换为'w'</span><br>s.replace(<span class="hljs-string">"ll"</span>, <span class="hljs-string">"~~"</span>); <span class="hljs-comment">// "he~~o"，所有子串"ll"被替换为"~~"</span><br></code></pre></td></tr></tbody></table></figure>
<ul>
<li>使用正则表达式：</li>
</ul>
<blockquote>
<p><a href="https://www.itnxd.cn/posts/15769.html">参考我之前在JavaScript教程的RegExp：点击这里!</a></p>
<p>当然语法不太相同，后面的java教程会讲到Re！</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">String s = <span class="hljs-string">"A,,B;C ,D"</span>;<br>String tt = s.replaceAll(<span class="hljs-string">"[,;\\s]+"</span>, <span class="hljs-string">","</span>); <span class="hljs-comment">// "A,B,C,D"</span><br></code></pre></td></tr></tbody></table></figure>
<h4 id="1-5-字符串分割"><a class="header-anchor" href="#1-5-字符串分割">¶</a>1.5 字符串分割</h4>
<ul>
<li><code>split()</code>：参数为正则表达式！</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">String s = <span class="hljs-string">"A,B,C,D"</span>;<br>String[] ss = s.split(<span class="hljs-string">","</span>); <span class="hljs-comment">// {"A", "B", "C", "D"}</span><br></code></pre></td></tr></tbody></table></figure>
<h4 id="1-6-字符串拼接"><a class="header-anchor" href="#1-6-字符串拼接">¶</a>1.6 字符串拼接</h4>
<ul>
<li><code>join()</code>：用指定的字符串连接字符串数组!</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">String[] arr = {<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>};<br>String s = String.join(<span class="hljs-string">"***"</span>, arr); <span class="hljs-comment">// "A***B***C"</span><br></code></pre></td></tr></tbody></table></figure>
<h4 id="1-7-类型转换"><a class="header-anchor" href="#1-7-类型转换">¶</a>1.7 类型转换</h4>
<p>其他类型转换为字符串：</p>
<ul>
<li><code>valueof()</code>：把任意基本类型或引用类型转换为字符串，这是一个重载方法，编译器会根据参数自动选择合适的方法！</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">String.valueOf(<span class="hljs-number">123</span>); <span class="hljs-comment">// "123"</span><br>String.valueOf(<span class="hljs-number">45.67</span>); <span class="hljs-comment">// "45.67"</span><br>String.valueOf(<span class="hljs-keyword">true</span>); <span class="hljs-comment">// "true"</span><br>String.valueOf(<span class="hljs-keyword">new</span> Object()); <span class="hljs-comment">// 输出java.lang.Object@636be97c</span><br></code></pre></td></tr></tbody></table></figure>
<p>字符串转换为其他类型：</p>
<ul>
<li><code>Integer.parseInt()</code>：int转换为String！</li>
<li><code>Boolean.parseBoolean()</code>：boolean转换为String！</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">int</span> n1 = Integer.parseInt(<span class="hljs-string">"123"</span>); <span class="hljs-comment">// 123</span><br><span class="hljs-keyword">int</span> n2 = Integer.parseInt(<span class="hljs-string">"ff"</span>, <span class="hljs-number">16</span>); <span class="hljs-comment">// 按十六进制转换，255</span><br><br><span class="hljs-keyword">boolean</span> b1 = Boolean.parseBoolean(<span class="hljs-string">"true"</span>); <span class="hljs-comment">// true</span><br><span class="hljs-keyword">boolean</span> b2 = Boolean.parseBoolean(<span class="hljs-string">"FALSE"</span>); <span class="hljs-comment">// false</span><br></code></pre></td></tr></tbody></table></figure>
<p><code>Integer</code>的<code>getInteger(String)</code>方法，它不是将字符串转换为<code>int</code>，而是把该字符串对应的系统变量转换为<code>Integer</code>：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">System.out.println(<span class="hljs-string">"java版本："</span> + Integer.getInteger(<span class="hljs-string">"java.version"</span>));<span class="hljs-comment">// java版本：14</span><br></code></pre></td></tr></tbody></table></figure>
<h4 id="1-8-String与char-互转"><a class="header-anchor" href="#1-8-String与char-互转">¶</a>1.8 String与char[]互转</h4>
<ul>
<li>String转char[]：使用toCharArray()方法！</li>
<li>char[]转String：使用new String()方法！</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">char</span>[] cs = <span class="hljs-string">"Hello"</span>.toCharArray(); <span class="hljs-comment">// String -&gt; char[]</span><br>String s = <span class="hljs-keyword">new</span> String(cs); <span class="hljs-comment">// char[] -&gt; String</span><br></code></pre></td></tr></tbody></table></figure>
<blockquote>
<p>通过<code>new String(char[])</code>创建新的<code>String</code>实例时，它并不会直接引用传入的<code>char[]</code>数组，而是会复制一份，所以，修改外部的<code>char[]</code>数组不会影响<code>String</code>实例内部的<code>char[]</code>数组，因为这是两个不同的数组。</p>
<p><code>new String()</code>时：传入的是一个复制！</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        <span class="hljs-keyword">char</span>[] cs = <span class="hljs-string">"Hello"</span>.toCharArray();<br>        String s = <span class="hljs-keyword">new</span> String(cs);<br>        System.out.println(s);<br>        cs[<span class="hljs-number">0</span>] = <span class="hljs-string">'X'</span>;<br>        System.out.println(s);<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<blockquote>
<p>当向类中传入引用时，外部改变会影响类的改变！</p>
<p>由于<code>Score</code>内部直接引用了外部传入的<code>int[]</code>数组，这会造成外部代码对<code>int[]</code>数组的修改，影响到<code>Score</code>类的字段。如果外部代码不可信，这就会造成安全隐患。</p>
<p>可以使用数组的<code>clone()</code>方法，</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        <span class="hljs-keyword">int</span>[] scores = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { <span class="hljs-number">88</span>, <span class="hljs-number">77</span>, <span class="hljs-number">51</span>, <span class="hljs-number">66</span> };<br>        Score s = <span class="hljs-keyword">new</span> Score(scores);<br>        s.printScores();<span class="hljs-comment">//[88, 77, 51, 66]</span><br>        scores[<span class="hljs-number">2</span>] = <span class="hljs-number">99</span>;<br>        s.printScores();<span class="hljs-comment">//[88, 77, 99, 66]修改后[88, 77, 51, 66]</span><br>    }<br>}<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Score</span> </span>{<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span>[] scores;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Score</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] scores)</span> </span>{<br>        <span class="hljs-keyword">this</span>.scores = scores;<br>        <span class="hljs-comment">// 修改为使用克隆方法！</span><br>        <span class="hljs-keyword">this</span>.scores = scores.clone();<br>    }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printScores</span><span class="hljs-params">()</span> </span>{<br>        System.out.println(Arrays.toString(scores));<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<h3 id="2、字符编码"><a class="header-anchor" href="#2、字符编码">¶</a>2、字符编码</h3>
<blockquote>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1260469698963456">可参考廖雪峰的字符编码教程：点击这里！</a></p>
<p>始终牢记：Java的<code>String</code>和<code>char</code>在内存中总是以Unicode编码表示。</p>
</blockquote>
<h4 id="2-1-ASCII编码"><a class="header-anchor" href="#2-1-ASCII编码">¶</a>2.1 ASCII编码</h4>
<blockquote>
<p>在早期的计算机系统中，为了给字符编码，美国国家标准学会（American National Standard Institute：ANSI）制定了一套英文字母、数字和常用符号的编码，它占用一个字节，编码范围从<code>0</code>到<code>127</code>，最高位始终为<code>0</code>，称为<code>ASCII</code>编码。例如，字符<code>'A'</code>的编码是<code>0x41</code>，字符<code>'1'</code>的编码是<code>0x31</code>。</p>
</blockquote>
<h4 id="2-2-GB2312和GBK编码"><a class="header-anchor" href="#2-2-GB2312和GBK编码">¶</a>2.2 GB2312和GBK编码</h4>
<blockquote>
<p>如果要把汉字也纳入计算机编码，很显然一个字节是不够的。<code>GB2312</code>标准使用两个字节表示一个汉字，其中第一个字节的最高位始终为<code>1</code>，以便和<code>ASCII</code>编码区分开。例如，汉字<code>'中'</code>的<code>GB2312</code>编码是<code>0xd6d0</code>。</p>
</blockquote>
<blockquote>
<p>1、收录不同：GB2312标准共收录6763个汉字，其中一级汉字3755个，二级汉字3008个；GBK共收入21886个汉字和图形符号。</p>
<p>2、表示不同：GB2312对任意一个图形字符都采用两个字节表示，并对所收汉字进行了“分区”处理，每区含有94个汉字／符号，分别对应第一字节和第二字节。GBK采用双字节表示，总体编码范围为8140-FEFE之间，首字节在81-FE之间，尾字节在40-FE之间。</p>
<p>3、处理功能不同：对于人名、古汉语等方面出现的罕用字，GB2312不能处理，这导致了后来GBK 及GB18030 汉字字符集的出现。</p>
<p>GBK: 汉字国标扩展码,基本上采用了原来GB2312-80所有的汉字及码位，并涵盖了原Unicode中所有的汉字20902，总共收录了883个符号， 21003个汉字及提供了1894个造字码位。 Microsoft简体版中文<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.baidu.com/s?wd=Windows&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao">Windows</a> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.baidu.com/s?wd=95&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao">95</a>就是以GBK为内码，又由于GBK同时也涵盖了Unicode所有CJK汉字，所以也可以和Unicode做一一对应。</p>
<p>GB码，全称是GB2312-80《信息交换用汉字编码字符集 基本集》，1980年发布，是<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.baidu.com/s?wd=%E4%B8%AD%E6%96%87%E4%BF%A1%E6%81%AF%E5%A4%84%E7%90%86&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao">中文信息处理</a>的国家标准，在大陆及海外使用简体中文的地区（如新加坡等）是强制使用的唯一中文编码。P-<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.baidu.com/s?wd=Windows&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao">Windows</a>3.2和苹果OS就是以GB2312为基本汉字编码， <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.baidu.com/s?wd=Windows&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao">Windows</a> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.baidu.com/s?wd=95&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao">95</a>/98则以GBK为基本汉字编码、但兼容支持GB2312。GB码共收录6763个简体汉字、682个符号，其中汉字部分：一级字3755，以拼音排序，二级字3008，以偏旁排序。该标准的制定和应用为规范、推动中文信息化进程起了很大作用。</p>
<p>GBK编码是中国大陆制订的、等同于UCS的新的中文编码扩展国家标准。GBK工作小组于19<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.baidu.com/s?wd=95&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao">95</a>年10月，同年12月完成GBK规范。该编码标准兼容GB2312，共收录汉字21003个、符号883个，并提供1894个造字码位，简、繁体字融于一库。</p>
</blockquote>
<h4 id="2-3-Unicode编码"><a class="header-anchor" href="#2-3-Unicode编码">¶</a>2.3 Unicode编码</h4>
<blockquote>
<p>为了统一全球所有语言的编码，全球统一码联盟发布了<code>Unicode</code>编码，它把世界上主要语言都纳入同一个编码，这样，中文、日文、韩文和其他语言就不会冲突。</p>
<p><code>Unicode</code>编码需要两个或者更多字节表示！</p>
</blockquote>
<h4 id="2-4-UTF-8编码"><a class="header-anchor" href="#2-4-UTF-8编码">¶</a>2.4 UTF-8编码</h4>
<blockquote>
<p>因为英文字符的<code>Unicode</code>编码高字节总是<code>00</code>，包含大量英文的文本会浪费空间，所以，出现了<code>UTF-8</code>编码，它是一种变长编码，用来把固定长度的<code>Unicode</code>编码变成1～4字节的变长编码。通过<code>UTF-8</code>编码，英文字符<code>'A'</code>的<code>UTF-8</code>编码变为<code>0x41</code>，正好和<code>ASCII</code>码一致，而中文<code>'中'</code>的<code>UTF-8</code>编码为3字节<code>0xe4b8ad</code>。</p>
<p><code>UTF-8</code>编码的另一个好处是容错能力强。如果传输过程中某些字符出错，不会影响后续字符，因为<code>UTF-8</code>编码依靠高字节位来确定一个字符究竟是几个字节，它经常用来作为传输编码。</p>
</blockquote>
<p>在Java中，<code>char</code>类型实际上就是两个字节的<code>Unicode</code>编码。如果我们要手动把字符串转换成其他编码，可以这样做：</p>
<blockquote>
<p><code>getBytes("UTF-8")</code>：这个编译通不过。。</p>
<p>使用<code>getBytes(StandardCharsets.UTF_8)</code>才可以！</p>
<p>了解一下就好！</p>
<p>转换编码后，就不再是<code>char</code>类型，而是<code>byte</code>类型表示的数组。</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">byte</span>[] b1 = <span class="hljs-string">"Hello"</span>.getBytes(); <span class="hljs-comment">// 按系统默认编码转换，不推荐</span><br><span class="hljs-keyword">byte</span>[] b2 = <span class="hljs-string">"Hello"</span>.getBytes(<span class="hljs-string">"UTF-8"</span>); <span class="hljs-comment">// 按UTF-8编码转换</span><br><span class="hljs-keyword">byte</span>[] b2 = <span class="hljs-string">"Hello"</span>.getBytes(<span class="hljs-string">"GBK"</span>); <span class="hljs-comment">// 按GBK编码转换</span><br><span class="hljs-keyword">byte</span>[] b3 = <span class="hljs-string">"Hello"</span>.getBytes(StandardCharsets.UTF_8); <span class="hljs-comment">// 按UTF-8编码转换</span><br></code></pre></td></tr></tbody></table></figure>
<p>将<code>byte[]</code>转换为<code>String</code>，可以这样做：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">byte</span>[] b = ...<br>String s1 = <span class="hljs-keyword">new</span> String(b, <span class="hljs-string">"GBK"</span>); <span class="hljs-comment">// 按GBK转换</span><br>String s2 = <span class="hljs-keyword">new</span> String(b, StandardCharsets.UTF_8); <span class="hljs-comment">// 按UTF-8转换</span><br></code></pre></td></tr></tbody></table></figure>
<h3 id="3、String存储方式"><a class="header-anchor" href="#3、String存储方式">¶</a>3、String存储方式</h3>
<ul>
<li>早期JDK版本的<code>String</code>总是以<code>char[]</code>存储：</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">String</span> </span>{<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">char</span>[] value;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> offset;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> count;<br>}<br></code></pre></td></tr></tbody></table></figure>
<ul>
<li>较新的JDK版本的<code>String</code>则以<code>byte[]</code>存储：</li>
</ul>
<blockquote>
<p>如果<code>String</code>仅包含ASCII字符，则每个<code>byte</code>存储一个字符，否则，每两个<code>byte</code>存储一个字符，这样做的目的是为了节省内存，因为大量的长度较短的<code>String</code>通常仅包含ASCII字符：</p>
<p>对于使用者来说，<code>String</code>内部的优化不影响任何已有代码，因为它的<code>public</code>方法签名是不变的。</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">String</span> </span>{<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">byte</span>[] value;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">byte</span> coder; <span class="hljs-comment">// 0 = LATIN1, 1 = UTF16</span><br></code></pre></td></tr></tbody></table></figure>
<h2 id="二、StringBuilder"><a class="header-anchor" href="#二、StringBuilder">¶</a>二、StringBuilder</h2>
<blockquote>
<p>使用<code>String</code>拼接字符串时，在循环中，每次循环都会创建新的字符串对象，然后扔掉旧的字符串。这样，绝大部分字符串都是临时对象，不但浪费内存，还会影响GC(垃圾回收)效率。</p>
<p>为了能高效拼接字符串，Java标准库提供了<code>StringBuilder</code>，它是一个可变对象，可以预分配缓冲区，这样，往<code>StringBuilder</code>中新增字符时，不会创建新的临时对象：</p>
<p>其他许多方法去编译器就可以看到！</p>
<p>你可能还听说过<code>StringBuffer</code>，这是Java早期的一个<code>StringBuilder</code>的线程安全版本，它通过同步来保证多个线程操作<code>StringBuffer</code>也是安全的，但是同步会带来执行速度的下降。</p>
<p><code>StringBuilder</code>和<code>StringBuffer</code>接口完全相同，现在完全没有必要使用<code>StringBuffer</code>。</p>
<p>也就是说<code>StringBuffer</code>已经是一个淘汰品了，不需要使用了！</p>
<p>最大作用：高效拼接字符串！</p>
</blockquote>
<ul>
<li>可以进行链式操作：</li>
</ul>
<blockquote>
<p>进行链式操作的关键是，定义的<code>append()</code>方法会返回<code>this</code>，这样，就可以不断调用自身的其他方法！</p>
<p>参数capacity为初始容量，不够时，自动扩大为当前的二倍！</p>
<p>也可以不写该参数！</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        <span class="hljs-keyword">var</span> sb = <span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-number">1024</span>);<br>        sb.append(<span class="hljs-string">"Mr "</span>)<br>          .append(<span class="hljs-string">"Bob"</span>)<br>          .append(<span class="hljs-string">"!"</span>)<br>          .insert(<span class="hljs-number">0</span>, <span class="hljs-string">"Hello, "</span>);<br>        System.out.println(sb.toString());<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<ul>
<li>来设计一个支持链式操作的类！关键当然是可以返回this即可！</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        Adder adder = <span class="hljs-keyword">new</span> Adder();<br>        adder.add(<span class="hljs-number">3</span>)<br>             .add(<span class="hljs-number">5</span>)<br>             .inc()<br>             .add(<span class="hljs-number">10</span>);<br>        System.out.println(adder.value());<br>    }<br>}<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Adder</span> </span>{<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Adder <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{<br>        sum += n;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<br>    }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Adder <span class="hljs-title">inc</span><span class="hljs-params">()</span> </span>{<br>        sum ++;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<br>    }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">value</span><span class="hljs-params">()</span> </span>{<br>        <span class="hljs-keyword">return</span> sum;<br>    }<br>}<br><br></code></pre></td></tr></tbody></table></figure>
<blockquote>
<p>对于普通的字符串<code>+</code>操作，并不需要我们将其改写为<code>StringBuilder</code>，因为Java编译器在编译时就自动把多个连续的<code>+</code>操作编码为<code>StringConcatFactory</code>的操作。在运行期，<code>StringConcatFactory</code>会自动把字符串连接操作优化为数组复制或者<code>StringBuilder</code>操作。</p>
</blockquote>
<h2 id="三、StringJoiner"><a class="header-anchor" href="#三、StringJoiner">¶</a>三、StringJoiner</h2>
<blockquote>
<p>最大作用：可以用分隔符拼接字符串，也可以指定开始和结束！</p>
<p><code>StringJoiner</code>内部实际上就是使用了<code>StringBuilder</code>，所以拼接效率和<code>StringBuilder</code>几乎是一模一样的！！</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.StringJoiner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        String[] names = {<span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Alice"</span>, <span class="hljs-string">"Grace"</span>};<br>        <span class="hljs-comment">// 按逗号分隔</span><br>        <span class="hljs-keyword">var</span> sj = <span class="hljs-keyword">new</span> StringJoiner(<span class="hljs-string">", "</span>);<br>        <span class="hljs-comment">// 指定开头和结尾</span><br>        <span class="hljs-keyword">var</span> sj = <span class="hljs-keyword">new</span> StringJoiner(<span class="hljs-string">", "</span>, <span class="hljs-string">"Hello "</span>, <span class="hljs-string">"!"</span>);<br>        <span class="hljs-keyword">for</span> (String name : names) {<br>            sj.add(name);<br>        }<br>        System.out.println(sj.toString());<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<ul>
<li>不需要开头结尾时，可以使用更方便的<code>String.join()</code></li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">String[] names = {<span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Alice"</span>, <span class="hljs-string">"Grace"</span>};<br><span class="hljs-keyword">var</span> s = String.join(<span class="hljs-string">", "</span>, names);<br></code></pre></td></tr></tbody></table></figure>
<h2 id="四、包装类型"><a class="header-anchor" href="#四、包装类型">¶</a>四、包装类型</h2>
<p>Java的两种数据类型：</p>
<ul>
<li>基本类型：<code>byte</code>，<code>short</code>，<code>int</code>，<code>long</code>，<code>boolean</code>，<code>float</code>，<code>double</code>，<code>char</code></li>
<li>引用类型：所有<code>class</code>和<code>interface</code>类型</li>
</ul>
<p>引用类型可以赋值为<code>null</code>，表示空，但基本类型不能赋值为<code>null</code>：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">String s = <span class="hljs-keyword">null</span>;<br><span class="hljs-keyword">int</span> n = <span class="hljs-keyword">null</span>; <span class="hljs-comment">// compile error!</span><br></code></pre></td></tr></tbody></table></figure>
<blockquote>
<p>将基本类型转换为引用类型就是包装类型！</p>
</blockquote>
<h3 id="1、int转Integer"><a class="header-anchor" href="#1、int转Integer">¶</a>1、int转Integer</h3>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">Integer n = <span class="hljs-keyword">null</span>;<br>Integer n2 = <span class="hljs-keyword">new</span> Integer(<span class="hljs-number">99</span>);<br>Integer n3 = <span class="hljs-number">98</span>;<br>Integer n4 = Integer.valueOf(<span class="hljs-number">99</span>);<br><span class="hljs-comment">// 通过静态方法valueOf(String)创建Integer实例:</span><br>Integer n5 = Integer.valueOf(<span class="hljs-string">"100"</span>);<br><span class="hljs-keyword">int</span> n6 = n2.intValue();<br><span class="hljs-keyword">int</span> n7 = n3;<br></code></pre></td></tr></tbody></table></figure>
<p>Java对应的基本类型的包装类型：</p>
<table>
<thead>
<tr>
<th style="text-align:left">基本类型</th>
<th style="text-align:left">对应的引用类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">boolean</td>
<td style="text-align:left">java.lang.Boolean</td>
</tr>
<tr>
<td style="text-align:left">byte</td>
<td style="text-align:left">java.lang.Byte</td>
</tr>
<tr>
<td style="text-align:left">short</td>
<td style="text-align:left">java.lang.Short</td>
</tr>
<tr>
<td style="text-align:left">int</td>
<td style="text-align:left">java.lang.Integer</td>
</tr>
<tr>
<td style="text-align:left">long</td>
<td style="text-align:left">java.lang.Long</td>
</tr>
<tr>
<td style="text-align:left">float</td>
<td style="text-align:left">java.lang.Float</td>
</tr>
<tr>
<td style="text-align:left">double</td>
<td style="text-align:left">java.lang.Double</td>
</tr>
<tr>
<td style="text-align:left">char</td>
<td style="text-align:left">java.lang.Character</td>
</tr>
</tbody>
</table>
<h3 id="2、Auto-Boxing"><a class="header-anchor" href="#2、Auto-Boxing">¶</a>2、Auto Boxing</h3>
<blockquote>
<p>由于可以自动互转，所以可以直接简化的写，编译器自动完成转换加上相应语句！</p>
<p>这种直接把<code>int</code>变为<code>Integer</code>的赋值写法，称为自动装箱（Auto Boxing），反过来，把<code>Integer</code>变为<code>int</code>的赋值写法，称为自动拆箱（Auto Unboxing）。</p>
<p>注意：自动装箱和自动拆箱只发生在编译阶段，目的是为了少写代码。</p>
<p>装箱和拆箱会影响代码的执行效率，因为编译后的<code>class</code>代码是严格区分基本类型和引用类型的。并且，自动拆箱执行时可能会报<code>NullPointerException</code>：</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">Integer n = <span class="hljs-number">100</span>; <span class="hljs-comment">// 编译器自动使用Integer.valueOf(int)</span><br><span class="hljs-keyword">int</span> x = n; <span class="hljs-comment">// 编译器自动使用Integer.intValue()</span><br><br><span class="hljs-comment">// 这样拆箱会报错的：</span><br>Integer n = <span class="hljs-keyword">null</span>;<br><span class="hljs-keyword">int</span> i = n;<br></code></pre></td></tr></tbody></table></figure>
<h3 id="3、不变类（final-class）"><a class="header-anchor" href="#3、不变类（final-class）">¶</a>3、不变类（final class）</h3>
<blockquote>
<p>所有的包装类型都是不变类，如Integer的源码：</p>
<p>两个<code>Integer</code>比较大小，不能使用<code>==</code>, 一定要用<code>equal()</code>方法!</p>
<p>，<code>==</code>比较，较小的两个相同的<code>Integer</code>返回<code>true</code>，较大的两个相同的<code>Integer</code>返回<code>false</code>，这是因为<code>Integer</code>是不变类，编译器把<code>Integer x = 127;</code>自动变为<code>Integer x = Integer.valueOf(127);</code>，为了节省内存，<code>Integer.valueOf()</code>对于较小的数，始终返回相同的实例，因此，<code>==</code>比较“恰好”为<code>true</code>，但我们<em>绝不能</em>因为Java标准库的<code>Integer</code>内部有缓存优化就用<code>==</code>比较，必须用<code>equals()</code>方法比较两个<code>Integer</code>。</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Integer</span> </span>{<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> value;<br>}<br><br><span class="hljs-comment">// 比较：</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        Integer x = <span class="hljs-number">127</span>;<br>        Integer y = <span class="hljs-number">127</span>;<br>        Integer m = <span class="hljs-number">99999</span>;<br>        Integer n = <span class="hljs-number">99999</span>;<br>        System.out.println(<span class="hljs-string">"x == y: "</span> + (x==y)); <span class="hljs-comment">// true</span><br>        System.out.println(<span class="hljs-string">"m == n: "</span> + (m==n)); <span class="hljs-comment">// false</span><br>        System.out.println(<span class="hljs-string">"x.equals(y): "</span> + x.equals(y)); <span class="hljs-comment">// true</span><br>        System.out.println(<span class="hljs-string">"m.equals(n): "</span> + m.equals(n)); <span class="hljs-comment">// true</span><br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<p>因为<code>Integer.valueOf()</code>可能始终返回同一个<code>Integer</code>实例，因此，在我们自己创建<code>Integer</code>的时候，以下两种方法：</p>
<ul>
<li>方法1：<code>Integer n = new Integer(100);</code></li>
<li>方法2：<code>Integer n = Integer.valueOf(100);</code></li>
</ul>
<p>方法2更好，因为方法1总是创建新的<code>Integer</code>实例，方法2把内部优化留给<code>Integer</code>的实现者去做，即使在当前版本没有优化，也有可能在下一个版本进行优化。</p>
<blockquote>
<p>我们把能创建“新”对象的静态方法称为<strong>静态工厂方法</strong>。<code>Integer.valueOf()</code>就是静态工厂方法，它尽可能地返回缓存的实例以节省内存。</p>
</blockquote>
<p>创建新对象时，优先选用静态工厂方法而不是new操作符。</p>
<p>如果我们考察<code>Byte.valueOf()</code>方法的源码，可以看到，标准库返回的<code>Byte</code>实例全部是缓存实例，但调用者并不关心静态工厂方法以何种方式创建新实例还是直接返回缓存的实例！</p>
<h3 id="4、Integer的进制转换"><a class="header-anchor" href="#4、Integer的进制转换">¶</a>4、Integer的进制转换</h3>
<blockquote>
<p>使用<code>Integer.parseInt()</code>方法或者是<code>toString()....</code>等等！</p>
<p>输出结果都是<code>String</code>类型！</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        <span class="hljs-comment">// 将字符串解析成一个整数：</span><br>        <span class="hljs-keyword">int</span> x1 = Integer.parseInt(<span class="hljs-string">"100"</span>); <span class="hljs-comment">// 100</span><br>		<span class="hljs-keyword">int</span> x2 = Integer.parseInt(<span class="hljs-string">"100"</span>, <span class="hljs-number">16</span>); <span class="hljs-comment">// 256,因为按16进制解析</span><br>        <br>        System.out.println(Integer.toString(<span class="hljs-number">100</span>)); <span class="hljs-comment">// "100",表示为10进制</span><br>        System.out.println(Integer.toString(<span class="hljs-number">100</span>, <span class="hljs-number">36</span>)); <span class="hljs-comment">// "2s",表示为36进制</span><br>        System.out.println(Integer.toHexString(<span class="hljs-number">100</span>)); <span class="hljs-comment">// "64",表示为16进制</span><br>        System.out.println(Integer.toOctalString(<span class="hljs-number">100</span>)); <span class="hljs-comment">// "144",表示为8进制</span><br>        System.out.println(Integer.toBinaryString(<span class="hljs-number">100</span>)); <span class="hljs-comment">// "1100100",表示为2进制</span><br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<h3 id="5、静态变量"><a class="header-anchor" href="#5、静态变量">¶</a>5、静态变量</h3>
<p>一些静态变量：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// boolean只有两个值true/false，其包装类型只需要引用Boolean提供的静态字段:</span><br>Boolean t = Boolean.TRUE;<br>Boolean f = Boolean.FALSE;<br><span class="hljs-comment">// int可表示的最大/最小值:</span><br><span class="hljs-keyword">int</span> max = Integer.MAX_VALUE; <span class="hljs-comment">// 2147483647</span><br><span class="hljs-keyword">int</span> min = Integer.MIN_VALUE; <span class="hljs-comment">// -2147483648</span><br><span class="hljs-comment">// long类型占用的bit和byte数量:</span><br><span class="hljs-keyword">int</span> sizeOfLong = Long.SIZE; <span class="hljs-comment">// 64 (bits)</span><br><span class="hljs-keyword">int</span> bytesOfLong = Long.BYTES; <span class="hljs-comment">// 8 (bytes)</span><br></code></pre></td></tr></tbody></table></figure>
<p>所有的整数和浮点数的包装类型都继承自<code>Number</code>，因此，可以非常方便地直接通过包装类型获取各种基本类型：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 向上转型为Number:</span><br>Number num = <span class="hljs-keyword">new</span> Integer(<span class="hljs-number">999</span>);<br><span class="hljs-comment">// 获取byte, int, long, float, double:</span><br><span class="hljs-keyword">byte</span> b = num.byteValue();<br><span class="hljs-keyword">int</span> n = num.intValue();<br><span class="hljs-keyword">long</span> ln = num.longValue();<br><span class="hljs-keyword">float</span> f = num.floatValue();<br><span class="hljs-keyword">double</span> d = num.doubleValue();<br></code></pre></td></tr></tbody></table></figure>
<h3 id="5、无符号处理"><a class="header-anchor" href="#5、无符号处理">¶</a>5、无符号处理</h3>
<blockquote>
<p>在Java中，并没有无符号整型（Unsigned）的基本数据类型。<code>byte</code>、<code>short</code>、<code>int</code>和<code>long</code>都是带符号整型，最高位是符号位。而C语言则提供了CPU支持的全部数据类型，包括无符号整型。无符号整型和有符号整型的转换在Java中就需要借助包装类型的静态方法完成。</p>
<p>因为<code>byte</code>的<code>-1</code>的二进制表示是<code>11111111</code>，以无符号整型转换后的<code>int</code>就是<code>255</code>。</p>
<p>类似的，可以把一个<code>short</code>按unsigned转换为<code>int</code>，把一个<code>int</code>按unsigned转换为<code>long</code>。</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        <span class="hljs-keyword">byte</span> x = -<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">byte</span> y = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">short</span> r = -<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> t = -<span class="hljs-number">1</span>;<br>        System.out.println(Byte.toUnsignedInt(x)); <span class="hljs-comment">// 255</span><br>        System.out.println(Byte.toUnsignedInt(y)); <span class="hljs-comment">// 127</span><br>        System.out.println(Short.toUnsignedInt(r));<span class="hljs-comment">//65535</span><br><br>        System.out.println(Integer.toUnsignedLong(t));<span class="hljs-comment">//4294967295</span><br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<h2 id="无、JavaBean"><a class="header-anchor" href="#无、JavaBean">¶</a>无、JavaBean</h2>
<p>在Java中，有很多<code>class</code>的定义都符合这样的规范：</p>
<ul>
<li>若干<code>private</code>实例字段；</li>
<li>通过<code>public</code>方法来读写实例字段。</li>
</ul>
<h3 id="1、JavaBean规范"><a class="header-anchor" href="#1、JavaBean规范">¶</a>1、JavaBean规范</h3>
<p>如果读写方法符合以下这种命名规范：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 读方法:</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">getXyz</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-comment">// 写方法:</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setXyz</span><span class="hljs-params">(Type value)</span></span><br><span class="hljs-function"></span><br><span class="hljs-function"><span class="hljs-comment">// boolean特殊：读方法一般命名为isXyz()：</span></span><br><span class="hljs-function"><span class="hljs-comment">// 读方法:</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isChild</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-comment">// 写方法:</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setChild</span><span class="hljs-params">(<span class="hljs-keyword">boolean</span> value)</span></span><br></code></pre></td></tr></tbody></table></figure>
<p>那么这种<code>class</code>被称为<code>JavaBean</code>：</p>
<blockquote>
<p>上面的字段是<code>xyz</code>，那么读写方法名分别以<code>get</code>和<code>set</code>开头，并且后接大写字母开头的字段名<code>Xyz</code>，因此两个读写方法名分别是<code>getXyz()</code>和<code>setXyz()</code></p>
<p>我们通常把一组对应的读方法（<code>getter</code>）和写方法（<code>setter</code>）称为属性（<code>property</code>）。例如，<code>name</code>属性：</p>
<ul>
<li>对应的读方法是<code>String getName()</code></li>
<li>对应的写方法是<code>setName(String)</code></li>
</ul>
<p>只有<code>getter</code>的属性称为只读属性（read-only），例如，定义一个age只读属性：</p>
<ul>
<li>对应的读方法是<code>int getAge()</code></li>
<li>无对应的写方法<code>setAge(int)</code></li>
</ul>
<p>类似的，只有<code>setter</code>的属性称为只写属性（write-only）。</p>
<p>很明显，只读属性很常见，只写属性不常见。</p>
<p>getter和setter就实现了一种数据封装的方法！</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>{<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name; }<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>{ <span class="hljs-keyword">this</span>.name = name; }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.age; }<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span> </span>{ <span class="hljs-keyword">this</span>.age = age; }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isChild</span><span class="hljs-params">()</span> </span>{<br>        <span class="hljs-keyword">return</span> age &lt;= <span class="hljs-number">6</span>;<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<h3 id="2、JavaBean作用"><a class="header-anchor" href="#2、JavaBean作用">¶</a>2、JavaBean作用</h3>
<blockquote>
<p>JavaBean主要用来传递数据，即把一组数据组合成一个JavaBean便于传输。此外，JavaBean可以方便地被IDE工具分析，生成读写属性的代码，主要用在图形界面的可视化设计中。</p>
<p>通过IDE，可以快速生成<code>getter</code>和<code>setter</code>！</p>
</blockquote>
<h3 id="3、枚举JavaBean属性"><a class="header-anchor" href="#3、枚举JavaBean属性">¶</a>3、枚举JavaBean属性</h3>
<blockquote>
<p>了解即可！</p>
<p>使用<code>Introspector.getBeanInfo()</code>可以获取属性列表。</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.test;<br><br><span class="hljs-keyword">import</span> java.beans.BeanInfo;<br><span class="hljs-keyword">import</span> java.beans.IntrospectionException;<br><span class="hljs-keyword">import</span> java.beans.Introspector;<br><span class="hljs-keyword">import</span> java.beans.PropertyDescriptor;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">codeTest</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IntrospectionException </span>{<br>        BeanInfo info = Introspector.getBeanInfo(Person.class);<br>        <span class="hljs-keyword">for</span> (PropertyDescriptor pd : info.getPropertyDescriptors()) {<br>            System.out.println(pd.getName());<br>            System.out.println(<span class="hljs-string">"  "</span> + pd.getReadMethod());<br>            System.out.println(<span class="hljs-string">"  "</span> + pd.getWriteMethod());<br>        }<br>    }<br>}<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Persons</span> </span>{<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{<br>        <span class="hljs-keyword">return</span> name;<br>    }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>{<br>        <span class="hljs-keyword">this</span>.name = name;<br>    }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>{<br>        <span class="hljs-keyword">return</span> age;<br>    }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span> </span>{<br>        <span class="hljs-keyword">this</span>.age = age;<br>    }<br>}<br><br></code></pre></td></tr></tbody></table></figure>
<p>输出结果：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plain">age<br>  public int com.test.Person.getAge()<br>  public void com.test.Person.setAge(int)<br>birth<br>  public int com.test.Person.getBirth()<br>  public void com.test.Person.setBirth(int)<br>class<br>  public final native java.lang.Class java.lang.Object.getClass()<br>  null<br>name<br>  public java.lang.String com.test.Person.getName()<br>  public void com.test.Person.setName(java.lang.String)<br></code></pre></td></tr></tbody></table></figure>
<h2 id="六、枚举类（enum）"><a class="header-anchor" href="#六、枚举类（enum）">¶</a>六、枚举类（enum）</h2>
<blockquote>
<p>为了让编译器能自动检查某个值在枚举的集合内，并且，不同用途的枚举需要不同的类型来标记，不能混用，我们可以使用<code>enum</code>来定义枚举类！</p>
<p>注意到定义枚举类是通过关键字<code>enum</code>实现的，我们只需依次列出枚举的常量名。</p>
<p>和<code>int</code>定义的常量相比，使用<code>enum</code>定义枚举有如下好处：</p>
<p>首先，<code>enum</code>常量本身带有类型信息，即<code>Weekday.SUN</code>类型是<code>Weekday</code>，编译器会自动检查出类型错误。</p>
<p>其次，不可能引用到非枚举的值，因为无法通过编译。</p>
<p>最后，不同类型的枚举不能互相比较或者赋值，因为类型不符！</p>
<p>使用<code>enum</code>定义的枚举类是一种引用类型。前面我们讲到，引用类型比较，要使用<code>equals()</code>方法，如果使用<code>==</code>比较，它比较的是两个引用类型的变量是否是同一个对象。因此，引用类型比较，要始终使用<code>equals()</code>方法，但<code>enum</code>类型可以例外。</p>
<p>因为<code>enum</code>类型的每个常量在JVM中只有一个唯一实例，所以可以直接用<code>==</code>比较：</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        Weekday day = Weekday.SUN;<br>        <span class="hljs-keyword">if</span> (day == Weekday.SAT || day == Weekday.SUN) {<br>            System.out.println(<span class="hljs-string">"Work at home!"</span>);<br>        } <span class="hljs-keyword">else</span> {<br>            System.out.println(<span class="hljs-string">"Work at office!"</span>);<br>        }<br>        <br>        <span class="hljs-comment">// 这样是编译不会通过的：</span><br>        <span class="hljs-keyword">int</span> day = <span class="hljs-number">1</span>;<br>		<span class="hljs-keyword">if</span> (day == Weekday.SUN) { <span class="hljs-comment">// Compile error: bad operand types for binary operator '=='</span><br>		}<br>    }<br>}<br><br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Weekday</span> </span>{<br>    SUN, MON, TUE, WED, THU, FRI, SAT;<br>}<br></code></pre></td></tr></tbody></table></figure>
<h3 id="1、enum类型"><a class="header-anchor" href="#1、enum类型">¶</a>1、enum类型</h3>
<p>通过<code>enum</code>定义的枚举类，和其他的<code>class</code>有什么区别？</p>
<p>答案是没有任何区别。<code>enum</code>定义的类型就是<code>class</code>，只不过它有以下几个特点：</p>
<ul>
<li>定义的<code>enum</code>类型总是继承自<code>java.lang.Enum</code>，且无法被继承；</li>
<li>只能定义出<code>enum</code>的实例，而无法通过<code>new</code>操作符创建<code>enum</code>的实例；</li>
<li>定义的每个实例都是引用类型的唯一实例；</li>
<li>可以将<code>enum</code>类型用于<code>switch</code>语句。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Color</span> </span>{<br>    RED, GREEN, BLUE;<br>}<br><br><span class="hljs-comment">// 编译后大概长这样：</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Color</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Enum</span> </span>{ <span class="hljs-comment">// 继承自Enum，标记为final class</span><br>    <span class="hljs-comment">// 每个实例均为全局唯一:</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Color RED = <span class="hljs-keyword">new</span> Color();<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Color GREEN = <span class="hljs-keyword">new</span> Color();<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Color BLUE = <span class="hljs-keyword">new</span> Color();<br>    <span class="hljs-comment">// private构造方法，确保外部无法调用new操作符:</span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Color</span><span class="hljs-params">()</span> </span>{}<br>}<br></code></pre></td></tr></tbody></table></figure>
<p>编译后的<code>enum</code>类和普通<code>class</code>并没有任何区别。但是我们自己无法按定义普通<code>class</code>那样来定义<code>enum</code>，必须使用<code>enum</code>关键字，这是Java语法规定的。</p>
<p>因为<code>enum</code>是一个<code>class</code>，每个枚举的值都是<code>class</code>实例！</p>
<h3 id="2、常用方法"><a class="header-anchor" href="#2、常用方法">¶</a>2、常用方法</h3>
<ul>
<li><code>name()</code>：返回常量名！</li>
<li><code>ordinal()</code>：返回定义常量的顺序（从0开始）！</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">String s = Weekday.SUN.name(); <span class="hljs-comment">// "SUN"</span><br><span class="hljs-keyword">int</span> n = Weekday.MON.ordinal(); <span class="hljs-comment">// 1</span><br></code></pre></td></tr></tbody></table></figure>
<p>注意：当枚举类Weekday内部的顺序发生变化时，通过<code>ordinal()</code>方法获取到的值也会相应改变！</p>
<p>想要不受影响，新增的变量值一定要放到最后！</p>
<p>解决方法：</p>
<blockquote>
<p>要编写健壮的代码，就不要依靠<code>ordinal()</code>的返回值。因为<code>enum</code>本身是<code>class</code>，所以我们可以定义<code>private</code>的构造方法，并且，给每个枚举常量添加字段：</p>
<p>默认情况下，对枚举常量调用<code>toString()</code>会返回和<code>name()</code>一样的字符串。但是，<code>toString()</code>可以被覆写，而<code>name()</code>则不行。我们可以给<code>Weekday</code>添加<code>toString()</code>方法：</p>
<p>覆写<code>toString()</code>的目的是在输出时更有可读性。</p>
</blockquote>
<p>注意：判断枚举常量的名字，要始终使用name()方法，绝不能调用toString()！</p>
<ul>
<li>默认调用day的toString()方法！</li>
<li>toString()覆写后则调用覆写后的方法！</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        Weekday day = Weekday.SUN;<br>        <span class="hljs-keyword">if</span> (day.dayValue == <span class="hljs-number">6</span> || day.dayValue == <span class="hljs-number">0</span>) {<br>            <span class="hljs-comment">// 默认调用day的toString()方法：</span><br>            System.out.println(<span class="hljs-string">"Today is "</span> + day + <span class="hljs-string">". Work at home!"</span>);<br>        } <span class="hljs-keyword">else</span> {<br>            System.out.println(<span class="hljs-string">"Today is "</span> + day + <span class="hljs-string">". Work at office!"</span>);<br>        }<br>    }<br>}<br><br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Weekday</span> </span>{<br>    MON(<span class="hljs-number">1</span>, <span class="hljs-string">"星期一"</span>), TUE(<span class="hljs-number">2</span>, <span class="hljs-string">"星期二"</span>), WED(<span class="hljs-number">3</span>, <span class="hljs-string">"星期三"</span>), THU(<span class="hljs-number">4</span>, <span class="hljs-string">"星期四"</span>), FRI(<span class="hljs-number">5</span>, <span class="hljs-string">"星期五"</span>), SAT(<span class="hljs-number">6</span>, <span class="hljs-string">"星期六"</span>), SUN(<span class="hljs-number">0</span>, <span class="hljs-string">"星期日"</span>);<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> dayValue;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String chinese;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Weekday</span><span class="hljs-params">(<span class="hljs-keyword">int</span> dayValue, String chinese)</span> </span>{<br>        <span class="hljs-keyword">this</span>.dayValue = dayValue;<br>        <span class="hljs-keyword">this</span>.chinese = chinese;<br>    }<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.chinese;<br>    }<br>}<br><br></code></pre></td></tr></tbody></table></figure>
<h3 id="3、使用switch语句"><a class="header-anchor" href="#3、使用switch语句">¶</a>3、使用switch语句</h3>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        Weekday day = Weekday.SUN;<br>        <span class="hljs-keyword">switch</span>(day) {<br>        <span class="hljs-keyword">case</span> MON:<br>        <span class="hljs-keyword">case</span> TUE:<br>        <span class="hljs-keyword">case</span> WED:<br>        <span class="hljs-keyword">case</span> THU:<br>        <span class="hljs-keyword">case</span> FRI:<br>            System.out.println(<span class="hljs-string">"Today is "</span> + day + <span class="hljs-string">". Work at office!"</span>);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> SAT:<br>        <span class="hljs-keyword">case</span> SUN:<br>            System.out.println(<span class="hljs-string">"Today is "</span> + day + <span class="hljs-string">". Work at home!"</span>);<br>            <span class="hljs-keyword">break</span>;<br>        }<br>    }<br>}<br><br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Weekday</span> </span>{<br>    MON, TUE, WED, THU, FRI, SAT, SUN;<br>}<br></code></pre></td></tr></tbody></table></figure>
<h2 id="七、记录类（record）"><a class="header-anchor" href="#七、记录类（record）">¶</a>七、记录类（record）</h2>
<blockquote>
<p>使用<code>String</code>、<code>Integer</code>等类型的时候，这些类型都是不变类，一个不变类具有以下特点：</p>
<ol>
<li>定义class时使用<code>final</code>，无法派生子类；</li>
<li>每个字段使用<code>final</code>，保证创建实例后无法修改任何字段。</li>
</ol>
<p>为了保证不变类的比较，还需要正确覆写<code>equals()</code>和<code>hashCode()</code>方法，这样才能在集合类中正常使用。</p>
</blockquote>
<p>从Java 14开始，引入了新的<code>Record</code>类。我们定义<code>Record</code>类时，使用关键字<code>record</code>，</p>
<h3 id="1、record类"><a class="header-anchor" href="#1、record类">¶</a>1、record类</h3>
<blockquote>
<p>除了用<code>final</code>修饰class以及每个字段外，编译器还自动为我们创建了构造方法，和字段名同名的方法，以及覆写<code>toString()</code>、<code>equals()</code>和<code>hashCode()</code>方法。</p>
<p>换句话说，使用<code>record</code>关键字，可以一行写出一个不变类。</p>
<p>和<code>enum</code>类似，我们自己不能直接从<code>Record</code>派生，只能通过<code>record</code>关键字由编译器实现继承。</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        Point p = <span class="hljs-keyword">new</span> Point(<span class="hljs-number">123</span>, <span class="hljs-number">456</span>);<br>        System.out.println(p.x());<br>        System.out.println(p.y());<br>        System.out.println(p);<br>    }<br>}<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> record <span class="hljs-title">Point</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{}<br></code></pre></td></tr></tbody></table></figure>
<p>编译时编译器自动完成所需要的代码以及需要覆写的代码：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Record</span> </span>{<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> x;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> y;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Point</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{<br>        <span class="hljs-keyword">this</span>.x = x;<br>        <span class="hljs-keyword">this</span>.y = y;<br>    }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">x</span><span class="hljs-params">()</span> </span>{<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.x;<br>    }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">y</span><span class="hljs-params">()</span> </span>{<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.y;<br>    }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{<br>        <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"Point[x=%s, y=%s]"</span>, x, y);<br>    }<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object o)</span> </span>{<br>        ...<br>    }<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span> </span>{<br>        ...<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<h3 id="2、record的构造方法"><a class="header-anchor" href="#2、record的构造方法">¶</a>2、record的构造方法</h3>
<blockquote>
<p>编译器默认按照<code>record</code>声明的变量顺序自动创建一个构造方法，并在方法内给字段赋值。那么问题来了，如果我们要检查参数，应该怎么办？</p>
<p>假设<code>Point</code>类的<code>x</code>、<code>y</code>不允许负数，我们就得给<code>Point</code>的构造方法加上检查逻辑：</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> record <span class="hljs-title">Point</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{<br>    <span class="hljs-keyword">public</span> Point {<br>        <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span> || y &lt; <span class="hljs-number">0</span>) {<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException();<br>        }<br>    }<br>}<br><br><span class="hljs-comment">// 编译后的代码长这样：</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Record</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Point</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{<br>        <span class="hljs-comment">// 这是我们编写的Compact Constructor:</span><br>        <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span> || y &lt; <span class="hljs-number">0</span>) {<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException();<br>        }<br>        <span class="hljs-comment">// 这是编译器继续生成的赋值代码:</span><br>        <span class="hljs-keyword">this</span>.x = x;<br>        <span class="hljs-keyword">this</span>.y = y;<br>    }<br>    ...<br>}<br></code></pre></td></tr></tbody></table></figure>
<h3 id="3、可以编写静态方法"><a class="header-anchor" href="#3、可以编写静态方法">¶</a>3、可以编写静态方法</h3>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> record <span class="hljs-title">Point</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Point <span class="hljs-title">of</span><span class="hljs-params">()</span> </span>{<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Point(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>    }<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Point <span class="hljs-title">of</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Point(x, y);<br>    }<br>}<br><br><span class="hljs-keyword">var</span> z = Point.of();<br><span class="hljs-keyword">var</span> p = Point.of(<span class="hljs-number">123</span>, <span class="hljs-number">456</span>);<br></code></pre></td></tr></tbody></table></figure>
<h3 id="4、小结："><a class="header-anchor" href="#4、小结：">¶</a>4、小结：</h3>
<p>从Java 14开始，提供新的<code>record</code>关键字，可以非常方便地定义Data Class：</p>
<ul>
<li>使用<code>record</code>定义的是不变类；</li>
<li>可以编写Compact Constructor（构造方法）对参数进行验证；</li>
<li>可以定义静态方法。</li>
</ul>
<h2 id="八、BigInteger"><a class="header-anchor" href="#八、BigInteger">¶</a>八、BigInteger</h2>
<blockquote>
<p>超出long的范围时可以使用<code>java.math.BigInteger</code>，来模拟大整数！</p>
<p><code>BigInteger</code>内部用一个<code>int[]</code>数组来模拟一个非常大的整数！</p>
<p>做运算时，只能通过实例方法来进行！</p>
<p>和<code>long</code>型整数运算比，<code>BigInteger</code>不会有范围限制，但缺点是速度比较慢！</p>
<p>可以使用<code>longVanlue()</code>方法来将其转化为long类型，前提当然是没有超过long的范围！超过会把报错！</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java">BigInteger bi = <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"1234567890"</span>);<br>System.out.println(bi.pow(<span class="hljs-number">5</span>)); <span class="hljs-comment">// 2867971860299718107233761438093672048294900000</span><br><br><span class="hljs-comment">// 加法</span><br>BigInteger i1 = <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"1234567890"</span>);<br>BigInteger i2 = <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"12345678901234567890"</span>);<br>BigInteger sum = i1.add(i2); <span class="hljs-comment">// 12345678902469135780</span><br><span class="hljs-comment">// 转换为long</span><br>BigInteger i = <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"123456789000"</span>);<br>System.out.println(i.longValue()); <span class="hljs-comment">// 123456789000</span><br>System.out.println(i.multiply(i).longValueExact()); <span class="hljs-comment">// java.lang.ArithmeticException: BigInteger out of long range</span><br><br><span class="hljs-comment">// + - * /</span><br>BigInteger s1 = s.add(<span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"328423"</span>));<br>BigInteger s3 = s.subtract(<span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"89789797"</span>));<br>BigInteger s2 = s.multiply(<span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"328423"</span>));<br>BigInteger s4 = s.divide(<span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"2379743489"</span>));<br><br><span class="hljs-comment">// s的5次方</span><br>BigInteger s5 = s.pow(<span class="hljs-number">5</span>);<br></code></pre></td></tr></tbody></table></figure>
<p><code>BigInteger</code>和<code>Integer</code>、<code>Long</code>一样，也是不可变类，并且也继承自<code>Number</code>类。因为<code>Number</code>定义了转换为基本类型的几个方法：</p>
<ul>
<li>转换为<code>byte</code>：<code>byteValue()</code></li>
<li>转换为<code>short</code>：<code>shortValue()</code></li>
<li>转换为<code>int</code>：<code>intValue()</code></li>
<li>转换为<code>long</code>：<code>longValue()</code></li>
<li>转换为<code>float</code>：<code>floatValue()</code></li>
<li>转换为<code>double</code>：<code>doubleValue()</code></li>
</ul>
<blockquote>
<p>因此，通过上述方法，可以把<code>BigInteger</code>转换成基本类型。如果<code>BigInteger</code>表示的范围超过了基本类型的范围，转换时将丢失高位信息，即结果不一定是准确的。如果需要准确地转换成基本类型，可以使用<code>intValueExact()</code>、<code>longValueExact()</code>等方法，在转换时如果超出范围，将直接抛出<code>ArithmeticException</code>异常。</p>
<p>float没有<code>floatValueExact()</code>方法，超出范围会输出<code>Infintity</code>；</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.math.BigInteger;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        BigInteger n = <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"999999"</span>).pow(<span class="hljs-number">99</span>);<br>        <span class="hljs-keyword">float</span> f = n.floatValue();<br>        System.out.println(f);<span class="hljs-comment">//Infinity</span><br>        <br>        <span class="hljs-keyword">int</span> s = n.intValueExact();<br>        System.out.println(s);<span class="hljs-comment">//报错</span><br>        <br>        <span class="hljs-keyword">int</span> s = n.intValue();<br>        System.out.println(s);<span class="hljs-comment">//结果会丢失，不准确！</span><br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<h2 id="九、BigDecimal"><a class="header-anchor" href="#九、BigDecimal">¶</a>九、BigDecimal</h2>
<blockquote>
<p>和<code>BigInteger</code>类似，<code>BigDecimal</code>可以表示一个任意大小且精度完全准确的浮点数。</p>
<p><code>BigDecimal</code>也是从<code>Number</code>继承的，也是不可变对象。</p>
<p>当然也有和BigInteger一样的方法！</p>
<p><code>BigDecimal</code>用于表示精确的小数，常用于财务计算；</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">BigDecimal bd = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"123.4567"</span>);<br>System.out.println(bd.multiply(bd)); <span class="hljs-comment">// 15241.55677489</span><br></code></pre></td></tr></tbody></table></figure>
<ul>
<li><code>scale()</code>：可以计算小数位数！</li>
<li><code>stripTrailingZeros()</code>：去掉小数末尾的0！</li>
<li>若为整数，则返回整数末尾的0的个数，为负值！</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java">BigDecimal d1 = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"123.45"</span>);<br>BigDecimal d2 = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"123.4500"</span>);<br>BigDecimal d3 = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"1234500"</span>);<br>System.out.println(d1.scale()); <span class="hljs-comment">// 2,两位小数</span><br>System.out.println(d2.scale()); <span class="hljs-comment">// 4</span><br>System.out.println(d3.scale()); <span class="hljs-comment">// 0</span><br><br>BigDecimal d1 = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"123.4500"</span>);<br>BigDecimal d2 = d1.stripTrailingZeros();<br>System.out.println(d1.scale()); <span class="hljs-comment">// 4</span><br>System.out.println(d2.scale()); <span class="hljs-comment">// 2,因为去掉了00</span><br><br>BigDecimal d3 = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"1234500"</span>);<br>BigDecimal d4 = d3.stripTrailingZeros();<br>System.out.println(d3.scale()); <span class="hljs-comment">// 0</span><br>System.out.println(d4.scale()); <span class="hljs-comment">// -2</span><br></code></pre></td></tr></tbody></table></figure>
<ul>
<li><code>setScale()</code>：设置精度，小数位数。两种截断方法：
<ul>
<li><code>RoundingMode.HALF_UP</code>：四舍五入截断</li>
<li><code>RoundingMode.DOWN</code>：直接截断</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.math.BigDecimal;<br><span class="hljs-keyword">import</span> java.math.RoundingMode;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        BigDecimal d1 = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"123.456789"</span>);<br>        BigDecimal d2 = d1.setScale(<span class="hljs-number">4</span>, RoundingMode.HALF_UP); <span class="hljs-comment">// 四舍五入，123.4568</span><br>        BigDecimal d3 = d1.setScale(<span class="hljs-number">4</span>, RoundingMode.DOWN); <span class="hljs-comment">// 直接截断，123.4567</span><br>        System.out.println(d2);<br>        System.out.println(d3);<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<blockquote>
<p>对<code>BigDecimal</code>做加、减、乘时，精度不会丢失，但是做除法时，存在无法除尽的情况，这时，就必须指定精度以及如何进行截断：</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">BigDecimal d1 = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"123.456"</span>);<br>BigDecimal d2 = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"23.456789"</span>);<br>BigDecimal d3 = d1.divide(d2, <span class="hljs-number">10</span>, RoundingMode.HALF_UP); <span class="hljs-comment">// 保留10位小数并四舍五入</span><br>BigDecimal d4 = d1.divide(d2); <span class="hljs-comment">// 报错：ArithmeticException，因为除不尽</span><br></code></pre></td></tr></tbody></table></figure>
<ul>
<li><code>divideAndRemainder()</code>：返回除数和余数！</li>
<li><code>signum()</code>：有余数返回1，余数为0返回0！</li>
</ul>
<blockquote>
<p>调用<code>divideAndRemainder()</code>方法时，返回的数组包含两个<code>BigDecimal</code>，分别是商和余数，其中商总是整数，余数不会大于除数。我们可以利用这个方法判断两个<code>BigDecimal</code>是否是整数倍数：</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java">BigDecimal n = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"12.345"</span>);<br>BigDecimal m = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"0.12"</span>);<br>BigDecimal[] dr = n.divideAndRemainder(m);<br>System.out.println(dr[<span class="hljs-number">0</span>]); <span class="hljs-comment">// 102</span><br>System.out.println(dr[<span class="hljs-number">1</span>]); <span class="hljs-comment">// 0.105</span><br><br>BigDecimal n = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"12.75"</span>);<br>BigDecimal m = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"0.15"</span>);<br>BigDecimal[] dr = n.divideAndRemainder(m);<br><span class="hljs-keyword">if</span> (dr[<span class="hljs-number">1</span>].signum() == <span class="hljs-number">0</span>) {<br>    <span class="hljs-comment">// n是m的整数倍</span><br>}<br></code></pre></td></tr></tbody></table></figure>
<ul>
<li>BigDecimal比较</li>
</ul>
<blockquote>
<p><code>equal()</code>方法，不但要求两个<code>BigDecimal</code>的值相等，还要求它们的<code>scale()</code>相等！</p>
<p>可以使用<code>stripTrailingZeros()</code>去掉末尾0再比较！</p>
<p>也可以使用<code>compareTo()</code>方法：它根据两个值的大小分别返回负数、正数和<code>0</code>，分别表示小于、大于和等于。</p>
<p>比较必须使用<code>compareTo()</code>方法！</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">BigDecimal d1 = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"123.456"</span>);<br>BigDecimal d2 = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"123.45600"</span>);<br>System.out.println(d1.equals(d2)); <span class="hljs-comment">// false,因为scale不同</span><br>System.out.println(d1.equals(d2.stripTrailingZeros())); <span class="hljs-comment">// true,因为d2去除尾部0后scale变为2</span><br>System.out.println(d1.compareTo(d2)); <span class="hljs-comment">// 0</span><br></code></pre></td></tr></tbody></table></figure>
<h2 id="十、其他常用类"><a class="header-anchor" href="#十、其他常用类">¶</a>十、其他常用类</h2>
<h3 id="1、Math类"><a class="header-anchor" href="#1、Math类">¶</a>1、Math类</h3>
<blockquote>
<p>Java标准库还提供了一个<code>StrictMath</code>，它提供了和<code>Math</code>几乎一模一样的方法。这两个类的区别在于，由于浮点数计算存在误差，不同的平台（例如x86和ARM）计算的结果可能不一致（指误差不同），因此，<code>StrictMath</code>保证所有平台计算结果都是完全相同的，而<code>Math</code>会尽量针对平台优化计算速度，所以，绝大多数情况下，使用<code>Math</code>就足够了。</p>
</blockquote>
<ul>
<li><code>abs()</code>：绝对值</li>
<li><code>max()</code>：最大</li>
<li><code>min()</code>：最小</li>
<li><code>sqrt()</code>：开方</li>
<li><code>exp()</code>：e的x次方</li>
<li><code>log()</code>：以e为底对数</li>
<li><code>log10()</code>：以10为底对数</li>
<li><code>sin()、cos()、tan()、asin()、acos()</code>：三角函数</li>
<li><code>PI</code>：pai(3.14…)</li>
<li><code>E</code>：e(2.718…)</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java">Math.abs(-<span class="hljs-number">100</span>); <span class="hljs-comment">// 100</span><br>Math.max(<span class="hljs-number">100</span>, <span class="hljs-number">99</span>); <span class="hljs-comment">// 100</span><br>Math.min(<span class="hljs-number">1.2</span>, <span class="hljs-number">2.3</span>); <span class="hljs-comment">// 1.2</span><br>Math.pow(<span class="hljs-number">2</span>, <span class="hljs-number">10</span>); <span class="hljs-comment">// 2的10次方=1024</span><br>Math.sqrt(<span class="hljs-number">2</span>); <span class="hljs-comment">// 1.414...</span><br>Math.exp(<span class="hljs-number">2</span>); <span class="hljs-comment">// 7.389...</span><br>Math.log(<span class="hljs-number">4</span>); <span class="hljs-comment">// 1.386...</span><br>Math.log10(<span class="hljs-number">100</span>); <span class="hljs-comment">// 2</span><br>Math.sin(<span class="hljs-number">3.14</span>); <span class="hljs-comment">// 0.00159...</span><br>Math.cos(<span class="hljs-number">3.14</span>); <span class="hljs-comment">// -0.9999...</span><br>Math.tan(<span class="hljs-number">3.14</span>); <span class="hljs-comment">// -0.0015...</span><br>Math.asin(<span class="hljs-number">1.0</span>); <span class="hljs-comment">// 1.57079...</span><br>Math.acos(<span class="hljs-number">1.0</span>); <span class="hljs-comment">// 0.0</span><br><br><span class="hljs-keyword">double</span> pi = Math.PI; <span class="hljs-comment">// 3.14159...</span><br><span class="hljs-keyword">double</span> e = Math.E; <span class="hljs-comment">// 2.7182818...</span><br>Math.sin(Math.PI / <span class="hljs-number">6</span>); <span class="hljs-comment">// sin(π/6) = 0.5</span><br></code></pre></td></tr></tbody></table></figure>
<h3 id="2、Random类"><a class="header-anchor" href="#2、Random类">¶</a>2、Random类</h3>
<blockquote>
<p><code>Random</code>用来创建伪随机数。所谓伪随机数，是指只要给定一个初始的种子，产生的随机数序列是完全一样的。</p>
<p>要生成一个随机数，可以使用<code>nextInt()</code>、<code>nextLong()</code>、<code>nextFloat()</code>、<code>nextDouble()</code>：</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">Random r = <span class="hljs-keyword">new</span> Random();<br>r.nextInt(); <span class="hljs-comment">// 2071575453,每次都不一样</span><br>r.nextInt(<span class="hljs-number">10</span>); <span class="hljs-comment">// 5,生成一个[0,10)之间的int</span><br>r.nextLong(); <span class="hljs-comment">// 8811649292570369305,每次都不一样</span><br>r.nextFloat(); <span class="hljs-comment">// 0.54335...生成一个[0,1)之间的float</span><br>r.nextDouble(); <span class="hljs-comment">// 0.3716...生成一个[0,1)之间的double</span><br></code></pre></td></tr></tbody></table></figure>
<p>倘若在创建实例时给定一个种子，则随机生成的数都是一定的，不会改变，不给种子是按照当前的时间戳自动确定种子，由于每时每刻时间不同，所以生成的数不同：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">Random r = <span class="hljs-keyword">new</span> Random(<span class="hljs-number">3</span>);<br>System.out.println(r.nextInt());<span class="hljs-comment">//-1155099828</span><br></code></pre></td></tr></tbody></table></figure>
<h3 id="3、SecureRandom类"><a class="header-anchor" href="#3、SecureRandom类">¶</a>3、SecureRandom类</h3>
<blockquote>
<p>有伪随机数，就有真随机数。实际上真正的真随机数只能通过量子力学原理来获取，而我们想要的是一个不可预测的安全的随机数，<code>SecureRandom</code>就是用来创建安全的随机数的！</p>
<p><code>SecureRandom</code>无法指定种子，它使用RNG（random number generator）算法。JDK的<code>SecureRandom</code>实际上有多种不同的底层实现，有的使用安全随机种子加上伪随机数算法来产生安全的随机数，有的使用真正的随机数生成器。实际使用的时候，可以优先获取高强度的安全随机数生成器，如果没有提供，再使用普通等级的安全随机数生成器：</p>
<p><code>SecureRandom</code>的安全性是通过操作系统提供的安全的随机种子来生成随机数。这个种子是通过CPU的热噪声、读写磁盘的字节、网络流量等各种随机事件产生的“熵”。</p>
<p>在密码学中，安全的随机数非常重要。如果使用不安全的伪随机数，所有加密体系都将被攻破。因此，时刻牢记必须使用<code>SecureRandom</code>来产生安全的随机数。</p>
<p>需要使用安全随机数的时候，必须使用SecureRandom，绝不能使用Random！</p>
</blockquote>
<p>虽然有点没看懂！以后回来再看！</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.test;<br><br><span class="hljs-keyword">import</span> java.security.NoSuchAlgorithmException;<br><span class="hljs-keyword">import</span> java.security.SecureRandom;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">codeTest</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<br>        SecureRandom s = <span class="hljs-keyword">new</span> SecureRandom();<br>        System.out.println(s.nextInt());<br><br>        SecureRandom sr = <span class="hljs-keyword">null</span>;<br>        <span class="hljs-keyword">try</span> {<br>            sr = SecureRandom.getInstanceStrong(); <span class="hljs-comment">// 获取高强度安全随机数生成器</span><br>        } <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) {<br>            sr = <span class="hljs-keyword">new</span> SecureRandom(); <span class="hljs-comment">// 获取普通的安全随机数生成器</span><br>        }<br>        <span class="hljs-keyword">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">16</span>];<br>        sr.nextBytes(buffer); <span class="hljs-comment">// 用安全随机数填充buffer</span><br>        System.out.println(Arrays.toString(buffer));<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<center style="color:red; font-size:25px">常用Java核心类终于完结，敬请期待后续内容！</center>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined" rel="external nofollow noreferrer">ITNXD</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.itnxd.cn/posts/22799.html">https://www.itnxd.cn/posts/22799.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.itnxd.cn" target="_blank">小牛博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/String/">String</a><a class="post-meta__tags" href="/tags/JavaBean/">JavaBean</a><a class="post-meta__tags" href="/tags/%E5%8C%85%E8%A3%85%E7%B1%BB%E5%9E%8B/">包装类型</a></div><div class="post_share"><div class="social-share" data-image="https://gitcode.net/qq_43590403/pic/-/raw/master/2021/02/06/dbce4ec19a17c8cd73e7695dbbbbd2d0.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://gitcode.net/qq_43590403/images/-/raw/master/img/WeChantQR.jpg" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="https://gitcode.net/qq_43590403/images/-/raw/master/img/WeChantQR.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://gitcode.net/qq_43590403/images/-/raw/master/img/AliPayQR.jpg" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="https://gitcode.net/qq_43590403/images/-/raw/master/img/AliPayQR.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/19314.html"><img class="prev-cover" src="https://gitcode.net/qq_43590403/pic/-/raw/master/2021/02/06/0eaff35043c619dc102d61019cf0b07b.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Java教程系列之异常处理</div></div></a></div><div class="next-post pull-right"><a href="/posts/40947.html"><img class="next-cover" src="https://gitcode.net/qq_43590403/pic/-/raw/master/2021/02/06/792a0206bd0f5540313e680d1b426692.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Java教程系列之面向对象编程</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E6%9D%A5%E9%A6%96%E6%AD%8C%E6%9B%B2%E6%9D%A5%E6%94%BE%E6%9D%BE%E4%B8%80%E4%B8%8B%E5%90%A7%EF%BC%81"><span class="toc-text">首先来首歌曲来放松一下吧！</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E7%BC%96%E7%A0%81"><span class="toc-text">一、字符串和编码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%88String%EF%BC%89"><span class="toc-text">1、字符串（String）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83%EF%BC%88equal%EF%BC%89"><span class="toc-text">1.1 字符串比较（equal）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%90%9C%E7%B4%A2"><span class="toc-text">1.2 字符串搜索</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-%E5%8F%96%E5%87%BA%E9%A6%96%E5%B0%BE%E7%A9%BA%E7%99%BD%E5%AD%97%E7%AC%A6"><span class="toc-text">1.3 取出首尾空白字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-%E5%AD%90%E4%B8%B2%E6%9B%BF%E6%8D%A2%EF%BC%88replace%EF%BC%89"><span class="toc-text">1.4 子串替换（replace）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%86%E5%89%B2"><span class="toc-text">1.5 字符串分割</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5"><span class="toc-text">1.6 字符串拼接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">1.7 类型转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-8-String%E4%B8%8Echar-%E4%BA%92%E8%BD%AC"><span class="toc-text">1.8 String与char[]互转</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81"><span class="toc-text">2、字符编码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-ASCII%E7%BC%96%E7%A0%81"><span class="toc-text">2.1 ASCII编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-GB2312%E5%92%8CGBK%E7%BC%96%E7%A0%81"><span class="toc-text">2.2 GB2312和GBK编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-Unicode%E7%BC%96%E7%A0%81"><span class="toc-text">2.3 Unicode编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-UTF-8%E7%BC%96%E7%A0%81"><span class="toc-text">2.4 UTF-8编码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81String%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F"><span class="toc-text">3、String存储方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81StringBuilder"><span class="toc-text">二、StringBuilder</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81StringJoiner"><span class="toc-text">三、StringJoiner</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%8C%85%E8%A3%85%E7%B1%BB%E5%9E%8B"><span class="toc-text">四、包装类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81int%E8%BD%ACInteger"><span class="toc-text">1、int转Integer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81Auto-Boxing"><span class="toc-text">2、Auto Boxing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E4%B8%8D%E5%8F%98%E7%B1%BB%EF%BC%88final-class%EF%BC%89"><span class="toc-text">3、不变类（final class）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81Integer%E7%9A%84%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2"><span class="toc-text">4、Integer的进制转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F"><span class="toc-text">5、静态变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E6%97%A0%E7%AC%A6%E5%8F%B7%E5%A4%84%E7%90%86"><span class="toc-text">5、无符号处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E3%80%81JavaBean"><span class="toc-text">无、JavaBean</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81JavaBean%E8%A7%84%E8%8C%83"><span class="toc-text">1、JavaBean规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81JavaBean%E4%BD%9C%E7%94%A8"><span class="toc-text">2、JavaBean作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E6%9E%9A%E4%B8%BEJavaBean%E5%B1%9E%E6%80%A7"><span class="toc-text">3、枚举JavaBean属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%9E%9A%E4%B8%BE%E7%B1%BB%EF%BC%88enum%EF%BC%89"><span class="toc-text">六、枚举类（enum）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81enum%E7%B1%BB%E5%9E%8B"><span class="toc-text">1、enum类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">2、常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E4%BD%BF%E7%94%A8switch%E8%AF%AD%E5%8F%A5"><span class="toc-text">3、使用switch语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E8%AE%B0%E5%BD%95%E7%B1%BB%EF%BC%88record%EF%BC%89"><span class="toc-text">七、记录类（record）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81record%E7%B1%BB"><span class="toc-text">1、record类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81record%E7%9A%84%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-text">2、record的构造方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%8F%AF%E4%BB%A5%E7%BC%96%E5%86%99%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-text">3、可以编写静态方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%B0%8F%E7%BB%93%EF%BC%9A"><span class="toc-text">4、小结：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81BigInteger"><span class="toc-text">八、BigInteger</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81BigDecimal"><span class="toc-text">九、BigDecimal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E7%B1%BB"><span class="toc-text">十、其他常用类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81Math%E7%B1%BB"><span class="toc-text">1、Math类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81Random%E7%B1%BB"><span class="toc-text">2、Random类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81SecureRandom%E7%B1%BB"><span class="toc-text">3、SecureRandom类</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By ITNXD</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">CDN BY <a target="_blank" rel="external nofollow" href="https://www.jsdelivr.com/"><b>jsDelivr</b></a> | HOST BY  <a target="_blank" rel="external nofollow" href="https://vercel.com/"><b>Vercel</b></a> && <a target="_blank" rel="external nofollow" href="https://github.com/"><b>Github</b></a><br><img style="vertical-align:middle" src="https://gitcode.net/qq_43590403/img/-/raw/master/pictures/2022/10/22_19_11_15_202210221911223.png" alt=""> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://beian.miit.gov.cn/"><b>晋ICP备19005025号-2</b></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      true && mermaid.init()
    })
  }
}</script><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.itnxd.cn/',
      region: ''
    }, null))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'https://twikoo.itnxd.cn/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.itnxd.cn/',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><div class="aplayer no-destroy" data-id="1551071404" data-server="tencent" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="false" muted></div><script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/6dc9e8f9.js","daovoice")
</script><script>var isChatBtn = true
daovoice('init', {
  app_id: '6dc9e8f9',},{
  launcher: { 
     disableLauncherIcon: isChatBtn // 悬浮 ICON 是否显示
  },
});
daovoice('update');

if (isChatBtn) {
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      daovoice('show')
    });
  }
  chatBtnFn()
} else {
  if (false) {
    function chatBtnHide () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: true // 悬浮 ICON 是否显示
        },
      });
    }
    function chatBtnShow () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: false // 悬浮 ICON 是否显示
        },
      });
    }
  }
}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>